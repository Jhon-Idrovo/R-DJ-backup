{"version":3,"sources":["components/Register.js","components/LogNeeded.js","components/Expense.js","components/Loading.js","components/NoExpenses.js","components/Error.js","components/ExpensesList.js","components/Logout.js","components/Login.js","components/ExpRow.js","components/CreateExp.js","components/Statistics.js","App.js","reportWebVitals.js","index.js","axios.js"],"names":["Register","history","useHistory","initialState","Object","freeze","username","password","useState","form","setForm","handleChange","e","target","name","value","useEffect","className","type","id","placeholder","onChange","onClick","preventDefault","axiosInstance","post","then","response","console","log","push","catch","err","to","LogNeeded","Expense","exp","date","exp_type","description","amount","Loading","NoExpenses","Error","ExpensesList","isLoged","expenses","setExpenses","isLoading","setIsLoading","get","status","data","length","error","map","Logout","setIsLoged","refreshToken","localStorage","getItem","refresh_token","removeItem","defaults","headers","Login","setItem","ExpRow","index","list","expType","baseExpense","CreateExp","JSON","parse","stringify","inputField","oldExp","assign","parseInt","res","hidden","options","scales","xAxes","stacked","yAxes","Date","toLocaleDateString","split","month","year","Statistics","setData","init","end","timeFrame","setTimeFrame","submit","resData","labels","datasets","series","forEach","serie","backgroundColor","Math","random","toString","slice","htmlFor","App","Boolean","activeClassName","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","baseURL","axios","create","timeout","Authorization","accept","interceptors","use","a","originalRequest","config","alert","Promise","reject","url","window","location","href","code","statusText","tokenParts","Buffer","from","now","ceil","refresh","access"],"mappings":"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","file":"static/js/main.301ba141.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport axiosInstance from \"../axios\";\r\n\r\nfunction Register() {\r\n  const history = useHistory();\r\n  const initialState = Object.freeze({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n  const [form, setForm] = useState(initialState);\r\n  const handleChange = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n  useEffect(() => {}, []);\r\n  const handleSubmit = (e) => {\r\n    const url = \"api/register/\";\r\n    e.preventDefault();\r\n    axiosInstance\r\n      .post(url, form)\r\n      .then((response) => {\r\n        console.log(response);\r\n        history.push(\"/login/\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n  return (\r\n    <div className=\"form-container\">\r\n      <form className=\"form\">\r\n        <h3 className=\"form-title\">REGISTRO</h3>\r\n        <input\r\n          type=\"email\"\r\n          name=\"email\"\r\n          id=\"email\"\r\n          placeholder=\"Email\"\r\n          onChange={handleChange}\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"username\"\r\n          id=\"username\"\r\n          placeholder=\"Nombre de usuario\"\r\n          onChange={handleChange}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          id=\"password\"\r\n          placeholder=\"Contraseña\"\r\n          onChange={handleChange}\r\n        />\r\n        <input\r\n          type=\"submit\"\r\n          value=\"Crear Cuenta\"\r\n          className=\"submit-btn\"\r\n          onClick={handleSubmit}\r\n        />\r\n        <p>\r\n          Ya tienes una cuenta? <Link to=\"/login\">Ingresa aquí</Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction LogNeeded() {\r\n  return (\r\n    <div className=\"message-container\">\r\n      <div className=\"message-box\">\r\n        <h3 className=\"message-header\">Vaya!</h3>\r\n        <p>\r\n          Parece que no te has autentificado, por favor\r\n          <Link to=\"login/\"> ingresa aquí</Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LogNeeded;\r\n","import React from \"react\";\r\nimport \"./styles/Expense.css\";\r\n\r\nfunction Expense({ exp }) {\r\n  return (\r\n    <>\r\n      <tr key={exp.id}>\r\n        <td>{exp.date}</td>\r\n        <td>{exp.exp_type}</td>\r\n        <td>{exp.description}</td>\r\n        <td>{exp.amount}</td>\r\n      </tr>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Expense;\r\n","import React from \"react\";\r\nimport \"./styles/Loading.css\";\r\n\r\nfunction Loading() {\r\n  return (\r\n    <div className=\"message-container\">\r\n      <div className=\"message-box\">\r\n        <div className=\"spinner\"></div>\r\n        <p>Cargando...</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loading;\r\n","import React from \"react\";\r\n\r\nfunction NoExpenses() {\r\n  return (\r\n    <div className=\"message-container\">\r\n      <div className=\"message-box\">\r\n        <h3 className=\"message-header\">Vaya!</h3>\r\n        <p>\r\n          Parece que eres nuev@ por aquí, comienza introduciendo algunos gastos\r\n          en la sección \"Registrar Gasto\"\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NoExpenses;\r\n","import React from \"react\";\r\nimport \"./styles/Error.css\";\r\n\r\nfunction Error() {\r\n  return (\r\n    <div className=\"message-container\">\r\n      <div className=\"message-box\">\r\n        <h3 className=\"message-header\">Disculpas</h3>\r\n        <p>\r\n          Parece que hubo un error con nuestros servidores, estamos trabajando\r\n          para solucionarlo lo antes posible\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Error;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport LogNeeded from \"./LogNeeded\";\r\nimport \"./styles/ExpensesList.css\";\r\nimport Expense from \"./Expense\";\r\nimport Loading from \"./Loading\";\r\nimport NoExpenses from \"./NoExpenses\";\r\nimport Error from \"./Error\";\r\nimport axiosInstance from \"../axios\";\r\n\r\nfunction ExpensesList({ isLoged }) {\r\n  const [expenses, setExpenses] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    axiosInstance\r\n      .get(\"api/all-expenses/\")\r\n      .then((response) => {\r\n        if (response.status === 200) {\r\n          setExpenses(response.data);\r\n          setIsLoading(false);\r\n        } else {\r\n          throw Error();\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setIsLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  if (!isLoged) return <LogNeeded />;\r\n  if (isLoading) return <Loading />;\r\n\r\n  try {\r\n    //if we still have expenses of null something went wrong\r\n    if (expenses.length === 0) return <NoExpenses />;\r\n  } catch (error) {\r\n    console.log(error);\r\n    return <Error />;\r\n  }\r\n\r\n  return (\r\n    <table>\r\n      <thead>\r\n        <tr>\r\n          <th>Fecha</th>\r\n          <th>Tipo</th>\r\n          <th>Descripción</th>\r\n          <th>Monto</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {expenses.map((exp) => {\r\n          return <Expense exp={exp} />;\r\n        })}\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n\r\nexport default ExpensesList;\r\n","import React, { useEffect } from \"react\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport axiosInstance from \"../axios\";\r\n\r\nfunction Logout({ setIsLoged }) {\r\n  const history = useHistory();\r\n  const refreshToken = localStorage.getItem(\"refresh_token\");\r\n  useEffect(() => {\r\n    axiosInstance\r\n      .post(\"api/logout/\", { refresh_token: refreshToken })\r\n      .then((response) => {\r\n        if (response.status == 202) {\r\n          localStorage.removeItem(\"access_token\");\r\n          axiosInstance.defaults.headers[\"Authorization\"] = null;\r\n          setIsLoged(false);\r\n          history.push(\"/login/\");\r\n        }\r\n      });\r\n  }, []);\r\n  return <div></div>;\r\n}\r\n\r\nexport default Logout;\r\n","import React, { useState } from \"react\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\n\r\nimport axiosInstance from \"../axios\";\r\n\r\nfunction Login({ isLoged, setIsLoged }) {\r\n  const history = useHistory();\r\n  const url = \"/api/token/\";\r\n  const initialState = Object.freeze({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n  const [form, setForm] = useState(initialState);\r\n\r\n  const handleChange = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    axiosInstance.post(url, form).then((response) => {\r\n      if (response.status === 200) {\r\n        const data = response.data;\r\n\r\n        localStorage.setItem(\"access_token\", data[\"access\"]);\r\n        localStorage.setItem(\"refresh_token\", data[\"refresh\"]);\r\n        axiosInstance.defaults.headers[\"Authorization\"] =\r\n          \"JWT \" + data[\"access\"];\r\n        setIsLoged(true);\r\n        history.push(\"/create-expense/\");\r\n      }\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"form-container\">\r\n      <form className=\"form\">\r\n        <h3 className=\"form-title\">INGRESO</h3>\r\n        <input\r\n          type=\"text\"\r\n          name=\"username\"\r\n          id=\"username\"\r\n          placeholder=\"Nombre de usuario\"\r\n          onChange={handleChange}\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          id=\"password\"\r\n          placeholder=\"Contraseña\"\r\n          onChange={handleChange}\r\n        />\r\n        <input\r\n          type=\"submit\"\r\n          value=\"Ingresar\"\r\n          className=\"submit-btn\"\r\n          onClick={handleSubmit}\r\n        />\r\n        <p>\r\n          No tienes una cuenta? <Link to=\"/register\">Registrate aquí</Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\n\r\nfunction ExpRow({ handleChange, exp, index }) {\r\n  return (\r\n    <tr className=\"exp-row\">\r\n      <td className=\"type-entry\">\r\n        <input\r\n          type=\"text\"\r\n          list=\"expensesList\"\r\n          onChange={(e) => handleChange(e, e.target.name, \"expType\")}\r\n          value={exp.expType}\r\n          placeholder=\"Tipo\"\r\n          name={index}\r\n        />\r\n      </td>\r\n      <td className=\"description-entry\">\r\n        <input\r\n          type=\"text\"\r\n          value={exp.description}\r\n          onChange={(e) => handleChange(e, e.target.name, \"description\")}\r\n          placeholder=\"Descripción\"\r\n          name={index}\r\n          list={exp.expType}\r\n        />\r\n      </td>\r\n      <td className=\"amount-entry\">\r\n        <input\r\n          type=\"number\"\r\n          value={exp.amount}\r\n          onChange={(e) => handleChange(e, e.target.name, \"amount\")}\r\n          placeholder=\"0.00\"\r\n          name={index}\r\n        />\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default ExpRow;\r\n","import React, { useState } from \"react\";\r\n\r\nimport LogNeeded from \"./LogNeeded\";\r\nimport ExpRow from \"./ExpRow\";\r\nimport \"./styles/CreateExp.css\";\r\nimport axiosInstance from \"../axios\";\r\n\r\nconst baseExpense = {\r\n  expType: \"\",\r\n  description: \"\",\r\n  amount: \"\",\r\n};\r\nfunction CreateExp({ isLoged }) {\r\n  const [expenses, setExpenses] = useState([\r\n    JSON.parse(JSON.stringify(baseExpense)),\r\n  ]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    axiosInstance\r\n      .post(\"api/save-expenses/\", expenses)\r\n      .then((res) => {\r\n        console.log(res);\r\n        if (res.status == 200) {\r\n          setExpenses([{ ...baseExpense }]);\r\n        } else throw Error;\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const addRow = (e) => {\r\n    e.preventDefault();\r\n    setExpenses([...expenses, JSON.parse(JSON.stringify(baseExpense))]);\r\n  };\r\n\r\n  const handleChange = (e, index, inputField) => {\r\n    console.log(\"handling change\" + inputField + index);\r\n    let oldExp = Object.assign([], expenses);\r\n    console.log(oldExp);\r\n    oldExp[parseInt(index)][inputField] = e.target.value;\r\n    setExpenses(oldExp);\r\n    console.log(expenses);\r\n  };\r\n\r\n  if (!isLoged) return <LogNeeded />;\r\n  return (\r\n    <div className=\"exp-container\">\r\n      <form id=\"expenses-form\">\r\n        <table>\r\n          <thead>\r\n            <tr className=\"head-row\">\r\n              <th className=\"table-headers\">Tipo</th>\r\n              <th className=\"table-headers\">Descripción</th>\r\n              <th className=\"table-headers\">Monto</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody id=\"table-body\">\r\n            {expenses.map((exp, index) => {\r\n              return (\r\n                <ExpRow\r\n                  handleChange={handleChange}\r\n                  exp={exp}\r\n                  key={index}\r\n                  index={index}\r\n                />\r\n              );\r\n            })}\r\n          </tbody>\r\n          <tfoot>\r\n            <button id=\"add-btn\" onClick={addRow}>\r\n              Añadir fila\r\n            </button>\r\n          </tfoot>\r\n        </table>\r\n        <div id=\"submit-container\">\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Guardar\"\r\n            onClick={handleSubmit}\r\n            className=\"exp-submit-btn\"\r\n          />\r\n        </div>\r\n      </form>\r\n      <datalist id=\"expensesList\">\r\n        <option value=\"Alimentación\" hidden></option>\r\n        <option value=\"Farmacia\"></option>\r\n        <option value=\"Servicios básicos\"></option>\r\n        <option value=\"Vestimenta\"></option>\r\n        <option value=\"Ocio(Entreteniemiento en general)\"></option>\r\n        <option value=\"Mascotas\"></option>\r\n        <option value=\"Donaciones\"></option>\r\n        <option value=\"Otros\"></option>\r\n      </datalist>\r\n      <datalist id=\"Alimentación\">\r\n        <option className=\"Food\" value=\"Carne\"></option>\r\n        <option className=\"Food\" value=\"Legumbres\"></option>\r\n        <option className=\"Food\" value=\"Huevos\"></option>\r\n        <option className=\"Food\" value=\"Vegetales\"></option>\r\n        <option className=\"Food\" value=\"Frutas\"></option>\r\n      </datalist>\r\n      {/* <!--CLOTHING OPTIONS--> */}\r\n      <datalist id=\"Vestimenta\">\r\n        <option value=\"Camisas/Blusas\" className=\"Clothes\"></option>\r\n        <option value=\"Zapatos\" className=\"Clothes\"></option>\r\n        <option value=\"Pantalones\" className=\"Clothes\"></option>\r\n        <option value=\"Abrigos\" className=\"Clothes\"></option>\r\n        <option value=\"Adornos\" className=\"Clothes\"></option>\r\n      </datalist>\r\n      {/* <!--BASIC SERVICES OPTIONS--> */}\r\n      <datalist id=\"Servicios básicos\">\r\n        <option className=\"BasicServices\" value=\"Agua Potable\"></option>\r\n        <option className=\"BasicServices\" value=\"Energía Eléctrica\"></option>\r\n        <option className=\"BasicServices\" value=\"Internet\"></option>\r\n        <option className=\"BasicServices\" value=\"Gas\"></option>\r\n        <option className=\"BasicServices\" value=\"\"></option>\r\n      </datalist>\r\n      {/* <!--PETS OPTIONS--> */}\r\n      <datalist id=\"Mascotas\">\r\n        <option value=\"Comida\" className=\"Pets\"></option>\r\n        <option value=\"Accesorios\" className=\"Pets\"></option>\r\n        <option value=\"Farmacia\" className=\"Pets\"></option>\r\n      </datalist>\r\n      {/* <!--LEISURE OPTIONS--> */}\r\n      <datalist id=\"Ocio(Entreteniemiento en general)\">\r\n        <option value=\"Viajes\" className=\"Leisure\"></option>\r\n        <option value=\"Películas\" className=\"Leisure\"></option>\r\n        <option value=\"Videojuegos\" className=\"Leisure\"></option>\r\n        <option value=\"Juguetes varios\" className=\"Leisure\"></option>\r\n        <option value=\"\" className=\"Leisure\"></option>\r\n      </datalist>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreateExp;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { Doughnut, Bar, Line } from \"react-chartjs-2\";\r\n\r\nimport axiosInstance from \"../axios\";\r\nimport LogNeeded from \"./LogNeeded\";\r\nimport \"./styles/Stats.css\";\r\n\r\nconst options = {\r\n  scales: {\r\n    xAxes: [\r\n      {\r\n        stacked: true,\r\n      },\r\n    ],\r\n    yAxes: [\r\n      {\r\n        stacked: true,\r\n      },\r\n    ],\r\n  },\r\n};\r\n\r\nlet [month, date, year] = new Date().toLocaleDateString(\"en-US\").split(\"/\");\r\n\r\nfunction Statistics({ isLoged }) {\r\n  const [data, setData] = useState(null);\r\n  const [timeFrame, setTimeFrame] = useState({\r\n    init: `${year - 1}-${month < 10 ? \"0\" + month : month}-${\r\n      date < 10 ? \"0\" + date : date\r\n    }`,\r\n    end: `${year}-${month < 10 ? \"0\" + month : month}-${\r\n      date < 10 ? \"0\" + date : date\r\n    }`,\r\n  });\r\n\r\n  useEffect(() => {\r\n    submit();\r\n  }, []);\r\n\r\n  const submit = () => {\r\n    axiosInstance.post(\"api/statistics/\", timeFrame).then((response) => {\r\n      let resData = {\r\n        labels: [1, 2, 3, 4, 5, 6, 7],\r\n        datasets: [],\r\n      };\r\n      let series = response.data.series;\r\n      series.forEach((serie) => {\r\n        serie.backgroundColor =\r\n          \"#\" +\r\n          (\"00000\" + ((Math.random() * (1 << 24)) | 0).toString(16)).slice(-6);\r\n      });\r\n      resData.datasets = series;\r\n      resData.labels = response.data.labels;\r\n      setData(resData);\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    submit();\r\n  };\r\n\r\n  if (!isLoged) return <LogNeeded />;\r\n  return (\r\n    <div>\r\n      <Line data={data} options={options} />\r\n      <form className=\"stats-form\">\r\n        <span id=\"dates-container\">\r\n          <span className=\"date\">\r\n            <label htmlFor=\"initial-date\">Fecha Inicio</label>\r\n            <input\r\n              type=\"date\"\r\n              name=\"initial\"\r\n              id=\"initial-date\"\r\n              value={timeFrame.init}\r\n              onChange={(e) => {\r\n                setTimeFrame({ ...timeFrame, init: e.target.value });\r\n              }}\r\n            />\r\n          </span>\r\n          <span className=\"date\">\r\n            <label htmlFor=\"end-date\">Fecha Final</label>\r\n            <input\r\n              type=\"date\"\r\n              name=\"end\"\r\n              id=\"end-date\"\r\n              value={timeFrame.end}\r\n              onChange={(e) => {\r\n                setTimeFrame({ ...timeFrame, end: e.target.value });\r\n              }}\r\n            />\r\n          </span>\r\n        </span>\r\n        <input\r\n          type=\"submit\"\r\n          value=\"Cargar\"\r\n          onClick={handleSubmit}\r\n          id=\"submit-btn\"\r\n        />\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Statistics;\r\n\r\n/*\r\n\r\nwindow.chartColors = {\r\n\tred: 'rgb(255, 99, 132)',\r\n\torange: 'rgb(255, 159, 64)',\r\n\tyellow: 'rgb(255, 205, 86)',\r\n\tgreen: 'rgb(75, 192, 192)',\r\n\tblue: 'rgb(54, 162, 235)',\r\n\tpurple: 'rgb(153, 102, 255)',\r\n\tgrey: 'rgb(201, 203, 207)'\r\n};\r\n\r\n(function(global) {\r\n\tvar MONTHS = [\r\n\t\t'January',\r\n\t\t'February',\r\n\t\t'March',\r\n\t\t'April',\r\n\t\t'May',\r\n\t\t'June',\r\n\t\t'July',\r\n\t\t'August',\r\n\t\t'September',\r\n\t\t'October',\r\n\t\t'November',\r\n\t\t'December'\r\n\t];\r\n\r\n\tvar COLORS = [\r\n\t\t'#4dc9f6',\r\n\t\t'#f67019',\r\n\t\t'#f53794',\r\n\t\t'#537bc4',\r\n\t\t'#acc236',\r\n\t\t'#166a8f',\r\n\t\t'#00a950',\r\n\t\t'#58595b',\r\n\t\t'#8549ba'\r\n\t];\r\n\r\n\tvar Samples = global.Samples || (global.Samples = {});\r\n\tvar Color = global.Color;\r\n\r\n\tSamples.utils = {\r\n\t\t// Adapted from http://indiegamr.com/generate-repeatable-random-numbers-in-js/\r\n\t\tsrand: function(seed) {\r\n\t\t\tthis._seed = seed;\r\n\t\t},\r\n\r\n\t\trand: function(min, max) {\r\n\t\t\tvar seed = this._seed;\r\n\t\t\tmin = min === undefined ? 0 : min;\r\n\t\t\tmax = max === undefined ? 1 : max;\r\n\t\t\tthis._seed = (seed * 9301 + 49297) % 233280;\r\n\t\t\treturn min + (this._seed / 233280) * (max - min);\r\n\t\t},\r\n\r\n\t\tnumbers: function(config) {\r\n\t\t\tvar cfg = config || {};\r\n\t\t\tvar min = cfg.min || 0;\r\n\t\t\tvar max = cfg.max || 1;\r\n\t\t\tvar from = cfg.from || [];\r\n\t\t\tvar count = cfg.count || 8;\r\n\t\t\tvar decimals = cfg.decimals || 8;\r\n\t\t\tvar continuity = cfg.continuity || 1;\r\n\t\t\tvar dfactor = Math.pow(10, decimals) || 0;\r\n\t\t\tvar data = [];\r\n\t\t\tvar i, value;\r\n\r\n\t\t\tfor (i = 0; i < count; ++i) {\r\n\t\t\t\tvalue = (from[i] || 0) + this.rand(min, max);\r\n\t\t\t\tif (this.rand() <= continuity) {\r\n\t\t\t\t\tdata.push(Math.round(dfactor * value) / dfactor);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdata.push(null);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn data;\r\n\t\t},\r\n\r\n\t\tlabels: function(config) {\r\n\t\t\tvar cfg = config || {};\r\n\t\t\tvar min = cfg.min || 0;\r\n\t\t\tvar max = cfg.max || 100;\r\n\t\t\tvar count = cfg.count || 8;\r\n\t\t\tvar step = (max - min) / count;\r\n\t\t\tvar decimals = cfg.decimals || 8;\r\n\t\t\tvar dfactor = Math.pow(10, decimals) || 0;\r\n\t\t\tvar prefix = cfg.prefix || '';\r\n\t\t\tvar values = [];\r\n\t\t\tvar i;\r\n\r\n\t\t\tfor (i = min; i < max; i += step) {\r\n\t\t\t\tvalues.push(prefix + Math.round(dfactor * i) / dfactor);\r\n\t\t\t}\r\n\r\n\t\t\treturn values;\r\n\t\t},\r\n\r\n\t\tmonths: function(config) {\r\n\t\t\tvar cfg = config || {};\r\n\t\t\tvar count = cfg.count || 12;\r\n\t\t\tvar section = cfg.section;\r\n\t\t\tvar values = [];\r\n\t\t\tvar i, value;\r\n\r\n\t\t\tfor (i = 0; i < count; ++i) {\r\n\t\t\t\tvalue = MONTHS[Math.ceil(i) % 12];\r\n\t\t\t\tvalues.push(value.substring(0, section));\r\n\t\t\t}\r\n\r\n\t\t\treturn values;\r\n\t\t},\r\n\r\n\t\tcolor: function(index) {\r\n\t\t\treturn COLORS[index % COLORS.length];\r\n\t\t},\r\n\r\n\t\ttransparentize: function(color, opacity) {\r\n\t\t\tvar alpha = opacity === undefined ? 0.5 : 1 - opacity;\r\n\t\t\treturn Color(color).alpha(alpha).rgbString();\r\n\t\t}\r\n\t};\r\n*/\r\n","import \"./App.css\";\nimport {\n  Route,\n  BrowserRouter as Router,\n  Switch,\n  NavLink,\n} from \"react-router-dom\";\nimport Register from \"./components/Register\";\nimport ExpensesList from \"./components/ExpensesList\";\nimport { useState } from \"react\";\nimport Logout from \"./components/Logout\";\nimport Login from \"./components/Login\";\nimport CreateExp from \"./components/CreateExp\";\nimport Statistics from \"./components/Statistics\";\n\nfunction App() {\n  const [isLoged, setIsLoged] = useState(\n    Boolean(localStorage.getItem(\"access_token\"))\n  );\n\n  return (\n    <Router>\n      <nav>\n        <div id=\"first-line\">\n          <label className=\"logo\">Home Finance</label>\n          <ul id=\"extras\">\n            <li className=\"list-item\">\n              {!isLoged ? (\n                <NavLink\n                  to=\"/login\"\n                  className=\"upper-btn\"\n                  activeClassName=\"upper-active\"\n                >\n                  Login\n                </NavLink>\n              ) : (\n                <NavLink\n                  to=\"/logout\"\n                  className=\"upper-btn\"\n                  activeClassName=\"upper-active\"\n                >\n                  Logout\n                </NavLink>\n              )}\n            </li>\n            <li className=\"list-item\">\n              <NavLink\n                to=\"/config\"\n                className=\"upper-btn\"\n                activeClassName=\"upper-active\"\n              >\n                <i className=\"fas fa-cog\"></i>\n              </NavLink>\n            </li>\n          </ul>\n        </div>\n        <ul>\n          <li className=\"list-item\">\n            <NavLink to=\"/create-expense\">Registrar Gasto</NavLink>\n          </li>\n          <li className=\"list-item\">\n            <NavLink to=\"/statistics\">Estadísticas</NavLink>\n          </li>\n          <li className=\"list-item\">\n            <NavLink to=\"/book\">Gastos</NavLink>\n          </li>\n        </ul>\n      </nav>\n      <Switch>\n        <Route path=\"/create-expense\">\n          <CreateExp isLoged={isLoged} />\n        </Route>\n        <Route path=\"/statistics\">\n          <Statistics isLoged={isLoged} />\n        </Route>\n        <Route path=\"/book\">\n          <ExpensesList isLoged={isLoged} />\n        </Route>\n        <Route path=\"/login\">\n          <Login isLoged={isLoged} setIsLoged={setIsLoged} />\n        </Route>\n        <Route path=\"/register\">\n          <Register />\n        </Route>\n        <Route path=\"/logout\">\n          <Logout setIsLoged={setIsLoged} />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import axios from \"axios\";\r\n\r\nconst baseURL = \"http://127.0.0.1:8000/\";\r\nconst axiosInstance = axios.create({\r\n  baseURL: baseURL,\r\n  timeout: 5000,\r\n  headers: {\r\n    Authorization: localStorage.getItem(\"access_token\")\r\n      ? \"JWT \" + localStorage.getItem(\"access_token\")\r\n      : null,\r\n    \"Content-Type\": \"application/json\",\r\n    accept: \"application/json\",\r\n  },\r\n});\r\n\r\naxiosInstance.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  async function (error) {\r\n    const originalRequest = error.config;\r\n    //IF THE SERVER ISN'T WORKING\r\n    if (typeof error.response === \"undefined\") {\r\n      alert(\r\n        \"A server/network error occurred. \" +\r\n          \"Looks like CORS might be the problem. \" +\r\n          \"Sorry about this - we will get it fixed shortly.\"\r\n      );\r\n      return Promise.reject(error);\r\n    }\r\n    //if the refresh token has expired redirect to login\r\n    if (\r\n      error.response.status === 401 &&\r\n      originalRequest.url === baseURL + \"/api/token/refresh/\"\r\n    ) {\r\n      window.location.href = \"/login/\";\r\n      return Promise.reject(error);\r\n    }\r\n\r\n    //if the access token has expired\r\n    if (\r\n      error.response.data.code === \"token_not_valid\" &&\r\n      error.response.status === 401 &&\r\n      error.response.statusText === \"Unauthorized\"\r\n    ) {\r\n      console.log(\"making a new refresh token\");\r\n      const refreshToken = localStorage.getItem(\"refresh_token\");\r\n\r\n      if (refreshToken) {\r\n        const tokenParts = JSON.parse(\r\n          Buffer.from(refreshToken.split(\".\")[1], \"base64\").toString()\r\n        );\r\n\r\n        // exp date in token is expressed in seconds, while now() returns milliseconds:\r\n        const now = Math.ceil(Date.now() / 1000);\r\n\r\n        if (tokenParts.exp > now) {\r\n          return axiosInstance\r\n            .post(\"/api/token/refresh/\", { refresh: refreshToken })\r\n            .then((response) => {\r\n              console.log(response.data);\r\n              localStorage.setItem(\"access_token\", response.data.access);\r\n              // localStorage.setItem(\"refresh_token\", response.data.refresh);\r\n\r\n              axiosInstance.defaults.headers[\"Authorization\"] =\r\n                \"JWT \" + response.data.access;\r\n              originalRequest.headers[\"Authorization\"] =\r\n                \"JWT \" + response.data.access;\r\n\r\n              return axiosInstance(originalRequest);\r\n            })\r\n            .catch((err) => {\r\n              console.log(err);\r\n            });\r\n        } else {\r\n          console.log(\"Refresh token is expired\", tokenParts.exp, now);\r\n          window.location.href = \"/login/\";\r\n        }\r\n      } else {\r\n        console.log(\"Refresh token not available.\");\r\n        window.location.href = \"/login/\";\r\n      }\r\n    }\r\n\r\n    // specific error handling done elsewhere\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default axiosInstance;\r\n"],"sourceRoot":""}